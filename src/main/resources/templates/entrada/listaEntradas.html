<!DOCTYPE HTML>
<html xmlns:th="http://thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
	<title>Entradas</title>
	<!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" th:href="@{/style/entradas.css}"/>
</head>
<body>
	<nav class="navbar navbar-dark bg-dark">
        <div class="container-fluid">
          <a href="/home" class="navbar-brand">HOME</a>
        </div>
    </nav>
    <div class="container">
     <a href="/home">
     	<button class="voltar">Voltar</button>
     </a>
     <div class="ls-custom-select">
        <select class="ls-custom" name="">
          <option selected="selected">Todos</option>
          <option value="#">Ativos</option>
          <option value="#">Desativados</option>
        </select>
        <div class="bt custom-button">
        	<a href="/entradas/new"><button class="adicionar">Adicionar  <img src="/bootstrap-5.1.3-dist/icons/icons/plus-circle.svg"></button></a>
        </div >
      </div>
      <!-- Modal -->
	<div class="modal fade" id="deletar" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  		<div class="modal-dialog">
    		<div class="modal-content">
      			<div class="modal-header">
        			<h5 class="modal-title" id="exampleModalLabel">Excluir</h5>
        			<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      			</div>
      <div class="modal-body">
        <p>Deseja realmente excluir essa entrada?</p>
      </div>
       	<div class="modal-footer">
        	<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Voltar</button>
        	<div
        		<a><button type="submit" class="btn btn-primary">Confirmar</button></a></div >
       		</div>
    	</div>
   	</div>    <!-- th:href="@{/entradas/excluir/{id}(id=${entrada.id})}" -->
  </div>
      <br>
	 <table class="table table-bordered">
        <thead>
            <tr>
              <br>
              <br>
              <br>
              <br>
              <th scope="col">ID</th>
              <th scope="col">Porteiro</th>
              <th scope="col">Data e Hora de Entrada</th>
              <th scope="col">Veículo</th>
              <th scope="col">Placa</th>
              <th scope="col">Nome do Motorista</th>
              <th scope="col">Nº do Apartamento</th>
              <th scope="col">Status da Entrada</th>
              <th scope="col">Data e Hora de Saída</th>
              <a sec:authorize="hasAuthority('ADMIN')"><th scope="col">Editar</th></a>
              <a sec:authorize="hasAuthority('ADMIN')"><th scope="col">Remover</th></a>
              <th scope="col">Finalizar</th>
            </tr>
          </thead>
          <tbody>
            <tr th:each="entrada : ${entradas}">
            	<td><span th:text="${entrada.id}"></span></td>
            	<td><span sec:authentication="name"></span></td>
              	<td><span th:text="${entrada.horaEntrada}"></span></td>
				<td><span th:text="${entrada.veiculo}"></span></td>
				<td><span th:text="${entrada.placa}"></span></td>
				<td><span th:text="${entrada.nomeMotorista}"></span></td>
				<td><span th:text="${entrada.numeroApt}"></span></td>
				<td><span th:text="${entrada.status}"></span></td>
				<td><span th:text="${entrada.horaSaida}"></span></td>
				<a sec:authorize="hasAuthority('ADMIN')"><td><a th:href="@{/entradas/editar/{id}(id=${entrada.id})}"><button type="submit" class="btn btn-default"><img src="/bootstrap-5.1.3-dist/icons/icons/pencil-fill.svg"></button ></a></td></a>
				<a sec:authorize="hasAuthority('ADMIN')"><td><a><button type="button" class="btn btn-default" data-bs-toggle="modal" data-bs-target="#deletar"><img src="/bootstrap-5.1.3-dist/icons/icons/trash-fill.svg"></button></a></td></a>
				<td><a th:href="@{/entradas/finalizar/{id}(id=${entrada.id})}"><button type="submit" class="btn btn-default"><img src="/bootstrap-5.1.3-dist/icons/icons/check-square-fill.svg"></button></a></td>
            </tr>
          </tbody>
	 </table>
    </div>
   <!-- Bootstrap Bundle with Popper -->
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>
</html>
	